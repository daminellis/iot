NUMERO DO MARCOS, 33084278

EXERCICIO 1 FUNCOES

int batatinha = 0;

void setup() {
  Serial.begin(9600);
}

void loop() {
  int a = 4;
  int b = 5;
  int c = multiplica(a, b);
  Serial.println(c);
}
int multiplica(int x, int y) {
  int z = 0;
  for (int i = 0; i < y; i++) {
    z += x;
  }
========================================
const int pin_led = 13;
const int pin_interrupt = 2;
int estado = LOW;

void setup() {
  pinMode(pin_led, OUTPUT);
  pinMode(pin_interrupt, INPUT_PULLUP);
  attachInterrupt(digitalPinToInterrupt(pin_interrupt),pisca, FALLING);
}

void loop() {
  diitalWrite(pin_led, estado);
}

void pisca() {
  estado = !estado;
}
=====================================
#include <TimerOne.h>


const int botao       = 2;  // botão
const int aquecimento = 3;  //aquecimento
const int temperatura = A0; //temperatura
const int fazendo     = 4;  //fazer café
const int sensorcopo  = 5;  //sensor de copo
const int buzzer      = 6;  //buzzer (led)

const int temperaturaperfeita = 100; //temperatura desejada para o café
bool cafepronto = false;

void setup() {
  pinMode(botao, INPUT_PULLUP);
  pinMode(aquecimento, OUTPUT);
  pinMode(fazendo, OUTPUT);
  pinMode(sensorcopo, INPUT);
  pinMode(buzzer, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  int temp = analogRead(temperatura);    // Leitura da temperatura do sensor
  int estadobut = digitalRead(botao);    // Leitura do estado do botão
  int comcopo = digitalRead(sensorcopo); // Leitura do sensor de copo

  if (estadobut == LOW) {
    Serial.println("Botão pressionado. Preparando café...");

    // Aquecer a água até a temperatura desejada
    while (temp < temperaturaperfeita) {
      digitalWrite(aquecimento, HIGH);
      temp = analogRead(temperatura);
      delay(1000);
    }

    // Desligar o aquecimento
    digitalWrite(aquecimento, LOW);

    // Verificar se há um copo
    if (comcopo == HIGH) {
      // Fazer o café
      digitalWrite(fazendo, HIGH);
      delay(2000); // Tempo para fazer o café (ajuste conforme necessário)
      digitalWrite(fazendo, LOW);

      // Sinal sonoro
      digitalWrite(buzzer, HIGH);
      delay(1000);
      digitalWrite(buzzeer, LOW);

      coffeeReady = true;
    } else {
      Serial.println("Nenhum copo detectado. Café não foi feito.");
    }
  }

  if (coffeeReady) {
    Serial.println("Por favor, retire o copo.");
    cafepronto = false;
  }
}
=====================================
#include <TimerOne.h>
#include <DHT.h>

const int botao       = 3;  // botão
const int aquecimento = 10;  // aquecimento
const int fazendo     = 11;  // fazer café
const int sensorcopo  = 2;  // sensor de copo
const int buzzer      = 12;  // buzzer (led)
const int DHTPIN      = A0;  // pino ao qual o sensor DHT está conectado
const int temperaturaperfeita = 100; //temperatura desejada para o café
bool cafepronto = false;

DHT dht(DHTPIN, DHT11); //inicializa o sensor DHT

void aquecerAgua() {
  int temperaturaDHT = dht.readTemperature(); //leitura da temperatura do DHT

  if (temperaturaDHT < temperaturaperfeita) {
    digitalWrite(aquecimento, HIGH);
  } else {
    digitalWrite(aquecimento, LOW);
    Timer1.detachInterrupt();
  }
}

void fazerCafe() {
  int comcopo = digitalRead(sensorcopo); //leitura do sensor do copo

  if (comcopo == HIGH) {
    // Fazer o café
    digitalWrite(fazendo, HIGH);
    digitalWrite(buzzer, HIGH);

    Timer1.attachInterrupt(aquecerAgua, 10000000);

    cafepronto = true;
  } else {
    Serial.println("Nenhum copo detectado. Café não foi feito :( desculpe marcos.");
  }
}

void setup() {
  pinMode(botao, INPUT_PULLUP);
  pinMode(aquecimento, OUTPUT);
  pinMode(fazendo, OUTPUT);
  pinMode(sensorcopo, INPUT);
  pinMode(buzzer, OUTPUT);
  Serial.begin(9600);
  dht.begin(); //inicializa o sensor DHT
  Timer1.initialize(10000000); //inicializa o timer
}

void loop() {
  int estadobut = digitalRead(botao);//estado do botão

  if (estadobut == LOW) {
    Serial.println("Botão pressionado. Preparando café...");
    Timer1.attachInterrupt(aquecerAgua, 10000000); //função de aquecimento ao timer

    // Sinal sonoro
    digitalWrite(buzzer, HIGH);

    //esperando a temperatura estar na temperatura certa
    while (!cafepronto) {
      fazerCafe();
    }
  }

  if (cafepronto) {
    Serial.println("Por favor, retire o copo :)bom apetite marcos.");
    cafepronto = false;
  }
}

