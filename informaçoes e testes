NUMERO DO MARCOS, 33084278

EXERCICIO 1 FUNCOES

int batatinha = 0;

void setup() {
  Serial.begin(9600);
}

void loop() {
  int a = 4;
  int b = 5;
  int c = multiplica(a, b);
  Serial.println(c);
}
int multiplica(int x, int y) {
  int z = 0;
  for (int i = 0; i < y; i++) {
    z += x;
  }
========================================
const int pin_led = 13;
const int pin_interrupt = 2;
int estado = LOW;

void setup() {
  pinMode(pin_led, OUTPUT);
  pinMode(pin_interrupt, INPUT_PULLUP);
  attachInterrupt(digitalPinToInterrupt(pin_interrupt),pisca, FALLING);
}

void loop() {
  diitalWrite(pin_led, estado);
}

void pisca() {
  estado = !estado;
}
=====================================
#include <TimerOne.h>


const int botao       = 2;  // botão
const int aquecimento = 3;  //aquecimento
const int temperatura = A0; //temperatura
const int fazendo     = 4;  //fazer café
const int sensorcopo  = 5;  //sensor de copo
const int buzzer      = 6;  //buzzer (led)

const int temperaturaperfeita = 100; //temperatura desejada para o café
bool cafepronto = false;

void setup() {
  pinMode(botao, INPUT_PULLUP);
  pinMode(aquecimento, OUTPUT);
  pinMode(fazendo, OUTPUT);
  pinMode(sensorcopo, INPUT);
  pinMode(buzzer, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  int temp = analogRead(temperatura);    // Leitura da temperatura do sensor
  int estadobut = digitalRead(botao);    // Leitura do estado do botão
  int comcopo = digitalRead(sensorcopo); // Leitura do sensor de copo

  if (estadobut == LOW) {
    Serial.println("Botão pressionado. Preparando café...");

    // Aquecer a água até a temperatura desejada
    while (temp < temperaturaperfeita) {
      digitalWrite(aquecimento, HIGH);
      temp = analogRead(temperatura);
      delay(1000);
    }

    // Desligar o aquecimento
    digitalWrite(aquecimento, LOW);

    // Verificar se há um copo
    if (comcopo == HIGH) {
      // Fazer o café
      digitalWrite(fazendo, HIGH);
      delay(2000); // Tempo para fazer o café (ajuste conforme necessário)
      digitalWrite(fazendo, LOW);

      // Sinal sonoro
      digitalWrite(buzzer, HIGH);
      delay(1000);
      digitalWrite(buzzeer, LOW);

      coffeeReady = true;
    } else {
      Serial.println("Nenhum copo detectado. Café não foi feito.");
    }
  }

  if (coffeeReady) {
    Serial.println("Por favor, retire o copo.");
    cafepronto = false;
  }
}
=====================================
#include <TimerOne.h>
#include <DHT.h>

const int botao = 2;        // botão
const int aquecimento = 3;  // aquecimento
const int fazendo = 4;      // fazer café
const int sensorcopo = 5;   // sensor de copo
const int buzzer = 6;       // buzzer (led)
const int DHTPIN = 7;       // Pino ao qual o sensor DHT está conectado
const int temperaturaperfeita = 100; // temperatura desejada para o café
bool cafepronto = false;

DHT dht(DHTPIN, DHT22); // Inicializa o sensor DHT

void aquecerAgua() {
  int temperaturaDHT = dht.readTemperature(); // Leitura da temperatura do sensor DHT

  if (temperaturaDHT < temperaturaperfeita) {
    digitalWrite(aquecimento, HIGH);
  } else {
    digitalWrite(aquecimento, LOW);
    Timer1.detachInterrupt();
  }
}

void fazerCafe() {
  int comcopo = digitalRead(sensorcopo); // Leitura do sensor de copo

  if (comcopo == HIGH) {
    // Fazer o café
    digitalWrite(fazendo, HIGH);
    digitalWrite(buzzer, HIGH);

    Timer1.attachInterrupt(aquecerAgua, 1000000); // Reanexar a função de aquecimento a cada 1 segundo (1000000 microssegundos)

    cafepronto = true;
  } else {
    Serial.println("Nenhum copo detectado. Café não foi feito.");
  }
}

void setup() {
  pinMode(botao, INPUT_PULLUP);
  pinMode(aquecimento, OUTPUT);
  pinMode(fazendo, OUTPUT);
  pinMode(sensorcopo, INPUT);
  pinMode(buzzer, OUTPUT);
  Serial.begin(9600);
  dht.begin(); // Inicializa o sensor DHT
  Timer1.initialize(1000000); // Inicializa o timer com um intervalo de 1 segundo (1000000 microssegundos)
}

void loop() {
  int estadobut = digitalRead(botao); // Leitura do estado do botão

  if (estadobut == LOW) {
    Serial.println("Botão pressionado. Preparando café...");
    Timer1.attachInterrupt(aquecerAgua, 1000000); // Anexar a função de aquecimento ao timer

    // Sinal sonoro
    digitalWrite(buzzer, HIGH);

    // Aguardar até que a temperatura esteja pronta
    while (!cafepronto) {
      fazerCafe();
    }
  }

  if (cafepronto) {
    Serial.println("Por favor, retire o copo.");
    cafepronto = false;
  }
}

